# BrokenLineShellings
**Easiest Way:** The easiest way to get started is to click [this link](https://sagecell.sagemath.org/?z=eJztPGuP2za23wv0P7DOh0qJxrUnWSzudF0g2bS7uXCTQePO_eD6GrJM2-zIkq9E2XGz-e97HqRESnLzaC4WWOy0mLFF8pzD8-J5UFnLjShlXCS74C4Sxx_iYyQO6pjrMhKp2isdib0qSwlfT-HNl18I-HkgXry8_Xn2uv6KP4O7gVCliGFVqUW-Ebo6pLIciu_jZMdfePwoCy3fiCQvClke8mytsq3QOYys4hJmyFTuZaaHLnD8kcPtUNyJiZjPR5GA_8fw_yISc_448r7hA_zGA3ZsbNfZMTO8WHg7QS7QZs55VYhNfMwLpaUhHPiwy0spsrzYxylsI5MiTlPYdgZsFJsqS7TKszgtxUnBc9ikWsv-3SAi3NA4GsF_Y58KlkKLqYe8VAgegO9kIZFCccqrdA0z7iWykZZFQu-k2KgCVsGSUq2A-8kuVwkJYTAeAP1aDEaDXroYNVP2OHqyEKtK04JmYEQDHsGkLkQvIt_Hb9S-2ous2q9kgbRn8iR-kWkaHJdvf300fhciuUmepjLRItZCoqIQBpHmSYzb9OCzHtYIGsAgg1ImlVZH2HOsUrkGcFruD0AqoNhKAI_YQb_jVK1bRKzkJjec3CKE6uBhPdUIC5nGhOMk1XZH4jCQfg2Bhv0hLgAzIMTJQNORtHy_UhntBeejohyXSlzB73Gb9Vc7AAs7AiIribMR917GGSrAHmlEtqTqN8DCJtuBELuLJyO7HPe2lqUu8jMRt5YHma1llpydTRh2AKE45VDIo8qrstkiI1P7Q15oUcTZOt_zo0OhMh0MXuZgI7g0TrdoMLs9Mo4nDsVP8qqosoxsHeaU8R55tIbZ21hloC1ngJOvK1DQtdpsQLczjbZTpbocDsJvDZbwW0PGRqQyC1gfQ_GdGBlnZAZ5YD5aTCbuiEPubSpjMON1nn1t9Bp1cDQUs8Zy0jhhxUjizMxBa9RiDCT5UAupqyITI356N0MbIacXHEMBCiaOArZ5ZyzGGL6ZAF987mq1l98KPcIp8HGIvwIzhf0O2iDo9dJ8C-5mwCI99hcYXk1HZvJ0uVcZGOlvIIUl2EPA7h7WmokI9e07UKiVBPspRIZSQuJRZNbBZQlgXyv2csXZ-sN7eQbWgJIOSrUFbqEFFhmYKygAa6UZduEY96Ov-3ZanqQ8wLkztZvlBw3l01E0LSNzWt3NIsOMiM8tc2ydDDT9uMUcqwj4Fa12o4BQNFCyEPC3Cjy5dRmM-gbgvH03GG4QkQ704yt9HYaeFZyk2MXgI4CNvAZA6zgd1otQbXkkDLtq7cm_X5yWtKXlT_0APL3U7gMdg9-33GutC-xyYBywOOyXhM-lTMo1u7gSycyz9OxxSzAFYlPke2JlP9uur_Q4tNsx8F9tEFLpMC5i-PB9iwwtVEliyvLsSpU5-MPDTiUGYw1bOOyN6EuLO6Hoct3Y7vyjOQvW_OUXa4igqsM61nJpAil2W8DZDw-oBrxmIModneYraQ_9T6Lqgqe-7Bg_v1P8_A7RaOi_yCv-O3iqb_-dXNWnADd22oZvDfYTbO0__vNz-E94Dn7lvDQBXy0QSLv25WS--H9ylMCiSh8gtyGGs_cmox0Oh2GNkYjoQQih8wlYuLNSo1wshrAVuNzJ9xTJB-IfjIHGT4QlCRdh8IvZlV2MM0n-ESVeRYwrxa8V4GzSOr0rpAQ624hgRgZb0YZuztXG0fWCIzG9A2ddtoE9Rkbghnb5CcjJzg2xXrxNIEP_6LBo4KDZSvIZLKL5eBGGQJifq7VkwmDwOFB4HBAsP5JX4ruJ8KHeANSqBHhxeQ_mRAFqnjPdlq-UL-kdHFHyDaDsTQFmtUCspfDqoXgN_DO6h8wDNi9ElWkFFpnvJfAQ0hhQoJIx-Ds02hAfIRNFNfP9qcObVgaxKmR83zmRn8kURAIyI7AWDZCKwlSIpyzzRIFXWwvwbXGDTbkIePVE1OjnamFkA5laywE1y34UzHt6HIpvxJNm7O_PYZAGhjsgAr1qvC3ifeCiTRHpIc118PfnkamgLIEtMi0ns6KS4GNiMAE9GcTJOUlVMohAJbclJLmT-Y_Rk4c_LhxwYIKnAGA6jx6A5ZxEdyNk4ZHLHZOY28QWBA4PW_tlphsmXSOTHGfX6_VaEWD7ZMnT9dI6M3As9WdzaBhVxxFzBE9EswSitGbcqJU3PnbG6zPOGb9euPEJjDUkAGzknTw1Z79IdjK554Qc3VtqgwnHSCN6gqYqQRUluCZpjwvHbB_UBEUN7eZsp8dL0F5-ukTXuzzF6X2Av1rHqbc5n36Sjj_LonFmjTuzYBwVr3mG-0Ke8WrYWcPtVuUAvFE9cajKZXOMBvWasLWmwfoDBHzSc23wvDX7gYjXa-P-dVMoweAhAtdDKi4zXVDdZoBIkWlwODXVVJJkd5455310zcAwPmBJyNlHdybL2c6kbz2zWA9dePQk9EKFBpyjIOYzA7B2hSpDge1yyvF0O4eyORbqjQ2rxRTkhGoETNNAZW1martb5UW5xBIFHY3WQMBm5XKTV-BUJzZnuQf6ltscfb2rMxQkLxOYq5u5EAik0lnhyNWF_Wgixs2IC8kfAeVwl31nttvSFo_Arnqh425tORR_EePfg-KbxiUg33Em-3HkuLv9hA2lxn9wYXWJhVU3cSPfFZxQ6HOU_qLRC_cAQfotJPyyNHWqILU5WdiSAi34akIqdUPHDRtmXqitymIs8G_rSnV3JU4nn-Kx0AKKzWpxwrIpBADrsyCRd50IggRfsEwqCCTcbaKG0zZ7PA_vuUe32z8Ajgle4InfP6e1h9oR0Lq2fXtTkVzXoN8nw-OS7LcWYBP9czWeotQKIu8fX_30vV-Hb6J0jmAh5CibKjbXuGtohIcgWnZSbN9q5ACMRMMhASHn2gkfLlZZMhM01ZpneU8aDXj38T049grjzqqg06GL07AFTnRuR7luBjWHYDoST8q2fcjNpgyyq7Gj0LAR8nq8ISzEXAn7GWsuTl1mhgp3_GqCz50DdArLy2ofzJMSDtaHCBAjyTqA5yQAsS46QdrJNs1gWxS-4lkHa4wYHDLxOyDiv9_QqoC-YD5RZUobqn26pnbq9PI0PopPDxn0IzF1rD1bq4QiKBOmwgP4nRdrWYAsI1wbetO5ZnU3G9JMt2xlDNaAxFhrMjErWlZqdcN3vI4pIdpe2yH5vrS20aOHLGvTgOE_QdgW1cvQSPevRrKJ9YC8PFHf_JXWJLQosdVFQ13i2fXlUlptwa9-nt3-PLsRgynko7Aok4VKuvofiQaSZwFNoosQGms_yAK9kUqqNC5srI8llDwDmbIeROwLaQiiI1Vgl1IXucI8ID3r_IBdjiPMV5jUxVTszKRFTE3vG6c9HHO9MjI9tVJh_4-VB1LImjRU8btZl3541tcxZ3AIBnXH1rr2tVMBbUL9jvcrhT0yGJJZWZ9Anq_hR1h6fX3YIaPj9DngKtSqQjYH9doJfArf52LQxmZDlDMr09J06gPP0g9F_is2dJ9OX738W58UfIDG_UzRFQX1l4fm00_Pf4jm42_K_ys0EhsuHuLv9wx_hEn_K-zZNZhPrBN3rYkBDRxlwr8YH1OFCmsc1F6PzdSONuJPPeirpdfP4_ZeCWl6TsHhFjIN1kwbP4m_TMRKZflexWnwj7vZP6LrsA-b-0O0GciOZYngahzB_-YXFWJCYCRkO3RrhCjDohJeTaDuscZbF5j8IECm6H24Z1Q2RQ5RC9O4jr9NXz17OnX6nOBvgLa-Xme3x9lzFwS8lU01YEXdfPBiUJC-H4TaqGyKCiemIzebf1YpOiTnkMS0nbqJPh6NQ4FZvrNgfjVe8L2UFUcfG4ph4wzmFLUadfBAHk0Xbyw1ANUdJfLqwVZNj0kaRzYmCtv1PRMis9Z3EmKqVBbyIE1CnMbw3XgerlW0DbAQdZHCJVItegLkKYGb8ERkzqXsPckP596c10yx0TAB7JniUfJovHAS5JaP-R1e4N5IszF4WQFjk10kEkgbNBalV6BuO3vRhkchEbcV4k_kD0div8seE-o77a8_krCrXv4aHDWXMRbszsO9UYjnZlwX0qIPEKuZViP1ZeX-vF-6dQnOnWoswlZiSRc9_42-sG2lX3kBWNN6dM-VdhmSqkTMcrTSW-PMm4Pk6fPn3z_n5sAmyfAS0H_HWYVu7_o6Etej65GdSZ0r9HfUhaTCeV10JTTcUojsvSpST3TWtmFpCpUIAgvW9AErxGXnUHPqW96BxGgoQAMa-MqQoaC3u9WJvJyCWOd6HdX_Z6ac3FtDaxfbtDcZo72G8F7UzIF28Md1swuo7ZKPQE2M7db-mji2j7U2BJWtS5tw4ll8A1eDBs4J2drr5fi2DdxerPxNFjkrBoaLbXA-WlronM6tg7kH1S4uOQxFBFf4KeqEBlqmqQ0sDK5WfFGXx50IwwtsawE45UWvfj_vK9rPnVMTV6MsCYrjvf5gUd0z_P-UxD9LSZxQ2Yn45Y8UxI2Tfn89_KOl_Qlunuasc1DOl69mNsag_hm6anEGcYv_kc0AWh-dX6Q7ly428PS1CUl4H0V-IguYD9gPQGoxoAwNz7aDxq8vbrGjjZ-cy4MDe2s7y9fSvaNjGlW63aci-TjahXVgl01zXIJnMV4Ypju8VUHXULvVOdJEbKQbJDgbwX946pl6ZTmc8YLyRptiqj5CeKJju3iBdiJe3AYg83kNZgGxNmqBCP2pBHVCHx1bT7J-RgyxPrBVupw8dq915Wi48xY6FZGTDxB0GBFMJ1Rs5GytAD4bmDMco0sz-AEHykkzPxI7GQPH8Av1i20myX9Y_fledk5l13i_WsfiafRM3JgtP12AXyqrFcwM-MkzW5q0HvQW_waChyMfaCh8Q2V6I9s4ZqPEUGhpJBccnXL1sXUC9p9wHPAIfcpt1m7nWy2Cj3Rg8e2OnlECzPBw4rJRP3uy0Iye52wteCndM5ZjK02DCZNJu3XkorKideN3mdqV7UvYHjX9S0vZf3G7uYFxQps4FXm2hSzH1PtPcMo3MzC1HEX0BxJQ2CAG08flMzgcqIQQ02sdeHjXdxeNnN2tRT65VurlSelkFxzxopVk--aZ_LlRA54IXF9xcWL1NV0Bk9LcCjK3MpBg02pApUl0BSHzuXljBpUAyLelSoZeodaj6dlSVTWvqVlMRvZZQ9ZiMm5W8n3Lyt96ZTcIfuUYpZEtRXbLTjFenPpNZmAKXLV8cYsWZby8Pa8N-WgMtP2uOx2kg47JcNBGb7UE5v2YaFwXkmCFtaxO5diYGy2dP46uYeGT6E-LBoPZT290apY5KKMAK0_4eRTSTaCIFQwCkFK8EAnmNUpzuIvGZI4xA2_QNcqoY4st_8FLmJctQ6VDZEWa7EB0r16ItUzUml8FqvAWE05mWAAALKGZu83zdTcKe0CXzkAzT5JzPHmUhA71lgUYrL7GTjL8DcmZPRO_APy9yirU8V-S6oBzAe8v-1jvgENvn70zvivZYTmIUE-6QafZH52pHpM6QSG2pl0yVjIBoZSd6DSdW5gLnGq_9dU6HvCdqs0Hbae7_JBrbCrE6fJIab51DgZj_aGv0oAXs53lgMoq6YXqhRFdp12Pz1tLSPa1i2UaWipWW3FgHvkOgZ7VXs82oafjaHrdbT-DgU3HJvmcXg84G4OTrXmrp1sdrVciMDJLfrutvpPEfvJs0_3mDaJKuzkcWCfPp9oAtXm4UFg6x-V8dMOBHlFmIcGx8fr72Wu2YLsB_nJtbNisH19uJ1j_ZGZeX55pS-L5fXz25Ngqm7rXV4yILRkYzJnSqcVnt9Y-phmJY-f2kIMBK1dI3qjlFqfBcRRRhOrEMaP6LTjj3U6Sr6tScwdOpZ6SN0jPdrFrQBdqAhffEs035mVCv003fP85wDOOo-atglFon7E4vF7PyBfde-P2TjfIQnV4b0PGWritoMaMG7k4XaH-iyk3nU07PW7U4gO--UhXmUmtseXXcN5AYYO0tTivfmHune_O2EvFxieg2BZSYlyCbwWCEVuvZGORi3Ix1kh0eO2juFAlAiRUXt_GFlb4Grt9oWMtYR2okTSdLIjk6ZVbxI58WMkU4j9Uthp30xTj5oxtd9iYAmh_ix2ld_8bOH0qbFO1Oln2RYNc31oim8sTad2FnHJTfUqFEl5aXyvja2asgNQgCQAaz1-z7TrQF77bpdWuXjivtfhvYt8Qv1O89H03RZ6I26EV1ZKiQ0jK8GU-Cif9CjPHO3Pnfeqx98L02Hs_2vJWCAeQr0WR4HtMYP4rfJVIXxkRg3JS-HDIFXlkTptJh11dvfiq0Gzh3Z2hA6Gp9fHiZJdDYnZN7agh75w7HgjhNWWByD-QdV08sC8OzRfmnopT7GjZBwhC1a-wGhPJC73LtxTGwo4HXKm_AnQKD3MOCT3TGRzHeO3Gniq0PxgjCg35jo84Av-P9iBxwhtDWd1AP47dyzzXoXdkmMn2LprZMtVBe4da54d5Wpew6GurfsVTrLZearf3qS3e47gcyrulVa-H-9mPklq1B8axt8A72baVJWR-uDdQ7DQ_yZJe3qCXuOHj6tz0fP2LDq4S0w1-b5MGDZX3jkYzAxVNH9aXtlij4RlYh5ezYyuJgcTkdrBVIynm8yBGWCafmFLJmxvxBt9GsJ2dFRfuBtTNHlCtFG_qJNqcApifxav8aPnmFBSA5XgWksJXFMIDGWhURkccSWHbwrIzS8_0Zk4SF2sHt82czGIn96Z_AyLgCwGYpEFaxlObRK3zzKRvrWcjTO_qZyMLsfWsvXZkIXrPzOrOM3cez_FxWKzjnmfttW0cNXUwDyRvXqL0WPPlF82_2fA4-nP0XzCPW7HwBMu91J41n7G0Nxr-6csvuCCBKvSh_zQI2H3vO1zhPwFRM8Du&lang=sage&interacts=eJyLjgUAARUAuQ==), which takes you to SageMathCell, and runs an example computation. However, this also puts all the code in one cell, which is a bit much. You can also read more below, for other options.

**Second Easiest Way:** To get started using broken line shelling orders to produce new posets recording the h-vector of a matroid, we recommend using Cocalc.com, as this can used from any internet browser without any installation. To get started with Cocalc [go here](https://doc.cocalc.com/getting-started.html).

After logging into Cocalc, simply download the file `shellings.sage` and then upload it to your current Cocalc project folder.

Open a new sage worksheet in Cocalc and type `load("shellings.sage")` as your first command. After that you will have access to all the functions defined in the `shellings.sage` file. You may then run commands as described in the paper, for example:

```
load("shellings.sage")
V = [(1,1,1,0,0,0),
    (1,1,0,1,0,0),
    (1,1,0,0,1,0),
    (1,1,0,0,0,1),
    (1,0,1,1,0,0),
    (1,0,1,0,1,0),
    (1,0,1,0,0,1),
    (1,0,0,1,1,0),
    (1,0,0,1,0,1),
    (0,1,1,1,0,0),
    (0,1,1,0,1,0),
    (0,1,1,0,0,1),
    (0,1,0,1,1,0),
    (0,1,0,1,0,1)]
vFav = (1,1,1,0,0,0)
pivots = [3,7]
misses = 5
limit = 3
w = 5.0
result = search(V, vFav, pivots, limit, misses, w)
display_results(result)
```

One may also use the built-in matroids in `SAGE`, as in:

```
U24 = matroids.Uniform(2,4)
P = U24.matroid_polytope()
V = P.vertices_list()
```
This is equivalent to directly typing
```
V = [[0, 0, 1, 1], [0, 1, 0, 1], [0, 1, 1, 0],
          [1, 0, 0, 1], [1, 0, 1, 0], [1, 1, 0, 0]]
```

Finally, we note that as you update your search parameters, you should try to keep the number of pivots to 2, at least initially, as having 3 or more pivots will quickly cause longer computations. As you adjust the other parameters, or adjust where the pivots are, you will want to use the function `update_search` which takes the same arguments as `search` except the first positional argument should be the `result` of a previous computation. This way you do not throw away the posets obtained from previous searches, and the code will automatically compare each of the new posets to your old posets and each other, giving you an updated list of non-isomorphic posets obtained by the broken line shellings you have explored so far. An example of `update_search` is as follows, where we are assuming you have used `search(args...)` to obtain a `result`, which you use as input to `update_search` as in

```
result = update_search(result, V, vFav, pivots, limit, misses, w)
display_results(result)
```

We also include the file `broken-line-shelling-examples-complete-graphic-matroids.sagews`. If you look at this file here, it will do no good, as it is unreadable. But if you download it and load it in Cocalc, it gives you some examples of how to use `shellings.sage`.
